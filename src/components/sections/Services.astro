---
import { services } from '../../data/services';
import Button from '../ui/Button.astro';
import Card from '../ui/Card.astro';

export interface Props {
  title?: string;
  subtitle?: string;
}

const {
  title = 'Nuestros Servicios',
  subtitle = 'Soluciones logisticas integrales diseñadas para optimizar su cadena de suministro',
} = Astro.props;
---

<section class="services section bg-gray-50">
  <div class="container">
    <div class="section-header text-center reveal">
      <h2 class="section-title">{title}</h2>
      <p class="section-subtitle">{subtitle}</p>
    </div>

    <div class="services-grid stagger-children">
      {
        services.map((service) => (
          <Card variant="elevated" padding="lg" hover class="service-card">
            <div class="service-icon">
              {service.id === 'supervan' ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="48"
                  height="48"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <rect x="1" y="3" width="15" height="13" />
                  <polygon points="16 8 20 8 23 11 23 16 16 16 16 8" />
                  <circle cx="5.5" cy="18.5" r="2.5" />
                  <circle cx="18.5" cy="18.5" r="2.5" />
                </svg>
              ) : (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="48"
                  height="48"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                  <polyline points="9 22 9 12 15 12 15 22" />
                </svg>
              )}
            </div>

            <h3 class="service-name">{service.name}</h3>
            <p class="service-tagline">{service.shortDescription}</p>
            <p class="service-description">{service.description}</p>

            <ul class="service-features">
              {service.features.slice(0, 4).map((feature) => (
                <li>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <polyline points="20 6 9 17 4 12" />
                  </svg>
                  {feature}
                </li>
              ))}
            </ul>

            <div class="service-action">
              <Button href={`/servicios/${service.slug}`} variant="primary">
                Conocer mas
              </Button>
            </div>
          </Card>
        ))
      }
    </div>

    <div class="services-cta reveal">
      <p>¿Necesita una solucion personalizada?</p>
      <Button href="/contactenos" variant="outline">Contactenos</Button>
    </div>
  </div>
</section>

<style>
  .services {
    padding: var(--spacing-4xl) 0;
  }

  .section-header {
    margin-bottom: var(--spacing-3xl);
  }

  .section-title {
    font-size: var(--text-4xl);
    margin-bottom: var(--spacing-sm);
  }

  .section-subtitle {
    font-size: var(--text-lg);
    color: var(--color-gray-600);
    max-width: 600px;
    margin: 0 auto;
  }

  .services-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-xl);
    margin-bottom: var(--spacing-3xl);
  }

  @media (min-width: 768px) {
    .services-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .service-card {
    display: flex;
    flex-direction: column;
  }

  .service-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--color-primary-light), var(--color-primary));
    border-radius: var(--radius-card);
    color: var(--color-white);
    margin-bottom: var(--spacing-lg);
  }

  .service-name {
    font-size: var(--text-2xl);
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-xs);
  }

  .service-tagline {
    font-size: var(--text-base);
    color: var(--color-primary);
    font-weight: var(--font-medium);
    margin-bottom: var(--spacing-md);
  }

  .service-description {
    color: var(--color-gray-600);
    line-height: 1.7;
    margin-bottom: var(--spacing-lg);
  }

  .service-features {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-xl);
    flex: 1;
  }

  .service-features li {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: var(--color-gray-700);
    font-size: var(--text-sm);
  }

  .service-features svg {
    color: var(--color-primary);
    flex-shrink: 0;
  }

  .service-action {
    margin-top: auto;
  }

  .services-cta {
    text-align: center;
    padding: var(--spacing-xl);
    background-color: var(--color-white);
    border-radius: var(--radius-card);
    box-shadow: var(--shadow-sm);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-md);
  }

  @media (min-width: 640px) {
    .services-cta {
      flex-direction: row;
      justify-content: center;
    }
  }

  .services-cta p {
    margin: 0;
    font-size: var(--text-lg);
    color: var(--color-gray-700);
  }
</style>
